

**Ինչպես որ հուշում է անվանումը դիրեկտորիան պարունակում է հավելվածի աշխատանքը և ֆունկցիոնալությունը ապահովող հիմնակ մոդուլները։**

* **database** - այն կկապվի ՏԲ հետ և կկարդա ինֆորմացիան այնտեղից։
* **commands** - կապում է մի քանի մոդուլները միասին, կատարում  կոլեկտիվ֊ընդհանուր լոգիկան։ Հանդիսանում է կապող օղակ։
* **excel_table** - կկատարի ստացված տվյալների վերափոխումը էկզել սանդղակի։ Սանդղակը կգեներացնելով աշխատանքի ավարտից հետո։ նախատեսված վերջնական օգտատիրոջ համար։
* **factory** - այն ունի Ինֆորմատիկ֊ճարտարագիտական նշանակություն, տարանջատոլու համար ապրանքի տեսակը և դրա հաշվարկելու լոգիկան։

<br>
<br>
<br>

## **database**
<br>

#### **Նպատակը և Առաջադրված խնդիրներ**
<br>

> Մոդուլի այս հատվածը հավելվածի աբսրտակցիայի **առաջին** կամ եթե կարելի է այդպես ասել հավելվածի շրջանակներում
"ամենացածր" մակարկան է, քանի որ _անմիջականորեն կապ է ստեղծում տվյալների բազզայի հետ_ ապահովելով
ամբողջ հավելվածի աշխատանքը վերջինիս հետ։

<br>

#### **ՆԵՐՄՈՒԾՎԱԾ ԳՐԱԴԱՐԱՆՆԵՐ**
> sqlite3, shelve, abc

<br>
<br>

#### **ԴԱՍԵՐ ԵՎ ԴՐԱՆՑ ՆԵՐԿԱՌՈՒՑՎԱԾ ՖՈՒՆԿՑԻԱՆԵՐԸ։**

<br>

**`DataBaseManager` &emsp; | &emsp; ԴԱՍԻ ՆՇԱՆԱԿՈՒԹՅՈՒՆԸ**

Դասը աբստրակտ է այն հանդիսկանում է բազզային դաս որում ռեալիզացված են նրա ժառանգ դասերի համար պարտադիր համարվող ֆունցիաները։ Իր գոյությամբ այն երաշխավորում է որ, ոչ֊մի ժառանգ բաց չի թողնի պարտադիր համարվող ֆունցիաների ռեալիզացումը։ Այստեղ այդպիսի ֆունկիցաներ են հանդիսանում **_connection** **write_to** ֆունկցիաները։ Սակայն կարելի է նկատել որ, ֆունկցիաների ռեալիզացիան յուրաքանչյուր դասում յուրօրինակ է, տվյալ ՏԲ կարիգի և նշանակությանը համաձայն։ Պարտադիր համարվող ֆունկցիաները դեկորացված են **@abstarctmethod**֊ով։

<br>

**`SQLDataBase` &emsp; | &emsp; SQL ՏՎՅԱԼՆԵՐԻ ԲԱԶԶԱ**

Ժառայնգ դաս՝ Այն ապահովվում է **sqlite3** ՏԲ հետ անխափան աշխատանքը։


_SQLDataBase_.**`_connection(str, values=False)` &emsp; | &emsp; ԿԱՊԻ ՀԱՍՏԱՏՈՒՄ։**

Այն կկատարի ապահով կապի հաստատում ՏԲ հետ, կապահովվի տվյալենրի մուտքագրումը ՏԲ, դրանց հարցումը հարկ եղած դեպքում, ստացված տվյալենրի համար ֆոմատավորումը(dict, tuple փոխհարեն) իսկ վերջում կվերադարձնի կատիվ կուրսոր։ Այն ունի մեծ նշանակություն ՏԲ հետ աշխատանքի ժամանակ, այս մոդուլի ներքոհիշյալ ֆունցիանորը (մասնավորապես **select** և **add_to**) անիջականորեն օգտվում են այս ֆունկցիայից։

_SQLDataBase_.**`select(str, tare=False)` &emsp; | &emsp; ՏՎՅԱԼՆԵՐԻ ՀԱՐՑՈՒՄ։**

Այս ֆունկցիան տրամադրում է տվյալենրի հարցման շաբլոններ ծրագրում պլանվավորված հարցման բոլոր սցենարների համար, ըստ տրված լոգիկայի պայմաններում։ Այն ընդունում է բարկոդ և կկատարի հարցում ստացված բարկոդի տվյալների համաձայն։ Վերջում կվերադարձնի ստացած տվյալները, դրանց առյաության պարագայում Հակառակ դեպքում՝ None կամ Null։

_SQLDataBase_.**`wirite_to(dict, tare=False)` &emsp; | &emsp; ՏՎՅԱԼՆԵՐԻ ՄՈՒՏՔԱԳՐՈՒՄ։**

Ֆունկցիան օգտակար է այն պարագայում երբ օգտատերը բախվել այնպիսի իրավիճակի որ, ապրանքատեսակը առկա չէ ցուցադրված ՏԲ֊ում և պետք է ավելացնել այն կամ անհրաժեշտ փոխել տվյալների առկա ցուցանիշները։ Այն ապահովվում է տվյալների մուտքագրումը կամ դրանց փոփոխությունը ՏԲ֊ում։ Այն ընդունում է տվյալները մեկ հասանելի ֆորմատով բառարանի տեսքով(dict) և պատասխանատու է դրանց ապահով մուտքագրման համար ՏԲ։

<br>
<br>

**`ShelveDataBase` &emsp; | &emsp; ԴԱՍԻ ՆՇԱՆԱԿՈՒԹՅՈՒՆԸ**

Ժառայնգ դաս՝ Այն ապահովվում է **shelve** սերիալիզացիոն նշանակություն ունեցիող գրադարանի հետ անխափան աշխատանքը։ Այն ունի բուֆֆերային նշանակություն, ստեղծվում է ժամանակավոր ֆայլ որում գրացնվում են օգտատոիրոջ բոլոր հարցումները և արդյունքում ստացված զտաքաշի տվյալները ծրագրի ավարտի դեպքում դրանցից **excel** ֆայլ գեներացնելու համար։

_ShelveDataBase_.**`_connection()` &emsp; | &emsp; ԿԱՊԻ ՀԱՍՏԱՏՈՒՄ։**

Այն կապ է հաստատում իսկ բացակայության դեպքում ստեղծում է **buffer.db** ժամանակավոր տվյալների պահոց֊ֆայլը։ 

_ShelveDataBase_.**`wirite_to(str, float)` &emsp; | &emsp; ՏՎՅԱԼՆԵՐԻ ՄՈՒՏՔԱԳՐՈՒՄ։**

Ֆունցիան կապ կհաստատի **buffer.db** հետ և ստացված տվյալները կգրանցի այնտեղ, վերջում փակելով այն տվյալների կորուստից խուսափելու համար։

<br>
<br>

##  **factory**

<br>

#### **Նպատակը և Առաջադրված խնդիրներ**

<br>

> Մոդուլի այս հատվածը առաջարկում է ապրանքի զտաքաշը հաշվարկելու համապատասխան լոգիկա կախված վերջինիս տեսակից։ Խմիչքի դեպքում այն ընդհանուր քաշից հանում է տարայի քաշը ապա մնացորդը բաժանում խտության վրա իսկ այլ ապրանքի դեպքում այն ընդհանուր քաշից կհանի միայն տարայինը։ Ծրագրում այս երկու լոգիակն տարանջատելու համար էլ կիրառվում է այս մոդուլը որը ներկայացնում է իրենից ինֆորմատիկ֊ճարտարագիտական պատտերն որը, կոչվում է factory, այստեղից էլ մոդուլի անունը։ 

<br>

#### **ՆԵՐՄՈՒԾՎԱԾ ԳՐԱԴԱՐԱՆՆԵՐ**
> shelve, colorama
> include.validations, include.symbols

<br>
<br>

#### **ԴԱՍԵՐ ԵՎ ԴՐԱՆՑ ՆԵՐԿԱՌՈՒՑՎԱԾ ՖՈՒՆԿՑԻԱՆԵՐԸ։**

<br>

**`Factory` &emsp; | &emsp; ԲԱԶԶԱՅԱԿԱՆ ԴԱՍ**

Այս դասը ներկայացնում է իրենից բազզայական դաս, այն նկարագրում է ֆունկցիաների հիմնական բաղադրիչները որոնք պետք է կիրառվեն իրենից ժառանգող երկու՝ **PowderFactory,** **DrinkFactory** դասերը։  

<br>

_Factory․_**`calculation()` &emsp; | &emsp; ՀԱՇՎԻՉ**

Դասի շրջանակներում այս ֆունկցիայի ռեալիզացիան իրենից ներկայացնում է _տեղապահ_(placeholder) ֆունկցիա, այսիքն այն երաշխավորում է որ, այս դասի յուրաքանչյուր ժառանգ պետք է ունենա այս ֆունկցիայի ռեալիզացիան իր մեջ, հակառակ դեպքում կհանգի ինտերպրետատորի **NotImplementedError** սխալի։ Նաև տարբերակ է օգտագործել աստեղ abc գորադարանի **@abstarctmethod** դեկորատորից սակայն այս մեթոդը նույնպես ընդունելի է։

_Factory․_**`full_weight_validation()` &emsp; | &emsp; ՔԱՇԻ ՎԱԼԻԴԱՏՈՐ**

ֆունկցիան իր հերթից կանչ է կատարում  _full_weight_ ֆունկցիային որը որը երաշխավորում է որ օգտատիրոջ կողմից մուտքագրված քաշի տվյալները հանդիսանում են ամբողջական թվիային արժեք։ Այս կպահանջի մուտքագրել վայլիդային արժեք այնքան ժամանակ մինչև այն կմուտքագրվի ճիշտ կամ կկատարվի ծրագրի ավարտ։

_Factory․_**`string_output_design(float, str)` &emsp; | &emsp; ՌԵՆԴԵՐԻՆԳ**

Ֆունկցիան ունի ավելի վիզուալ նշանակություն։ Այն ստանում է ապրանքի քաշի ցուցանիշը և չափման միավորը(գրամ կամ միլիգրամ) և այն գեղեցիկ և ընթերնելի ձևով ներկայացնում է տերմինալում։

<br>
<br>

**`PowderFactory` &emsp; | &emsp; ԽՄԻՉՔՆԵՐԻ ԴԱՍ**

Դասը պատասխանատու է բոլոր հեղուկ չհանդիսացող ապրանքների (այսինքն երբ պետք չէ նաև հաշվի առնելհեղուկի խտություն)հետ մանիպուլացիաների համար։ 

<br>

_PowderFactory․_**`calculation()` &emsp; | &emsp; ՀԱՇՎԻՉ**

Ֆունկցիան կատարում է պարզագույն մաթեմատիկական հաշվարկ, այն օգտակար է այն ապրանքների պարագայում երբ օգտագործված մի քանի տեսակի ապրանքներ, սակայն դրանց տարաների քաշը միանման են։ Այս պարագայում ծրագիրը մեկ սկսպասի բարկոդի մուտքագրում, իսկ մնացած դեպքերի համար պահպանելով տարայի քաշը կսպասի միայն ընդանուր քաշի ցուցանիշին, մինչև ծրագրի ավարտը։ Քանի որ այս տեսակի ապրանքը օժտված չէ յուրօրինակ անվանումներով դրանք չեն գրանցվում վերջնական _excel_ սանդղակի մեջ։

<br>

_DrinkFactory․_**`calculation()` &emsp; | &emsp; ՀԱՇՎԻՉ**

Դասը պատասխանատու է բոլոր խմիչքների հետ մանիպուլացիաների համար։

<br>

_DrinkFactory․_**`calculation()` &emsp; | &emsp; ՀԱՇՎԻՉ**

Այս ֆունկցիան վերոհիշվյալ համանուն ֆունցիայից տարբերվում է նրանով որ, հաշվարկ կատարելիս այն նաև տարաից բացի հաշվի է առնում կոնկրետ հեղուկի խտությունը, մնացորդը բաժանելով դրա վրա։ Հաջորդիվ այն ստացված զտաքաշը և ապրանքի անունը գրանցում է բուֆերային ֆայլի մեջ որից էլ հետագայում պետք է գեներացվի _excel_ սանդղակը։

<br>
<br>


## **commands**

<br>

#### **Նպատակը և Առաջադրված խնդիրներ**

<br>

> Ավանդաբար այս մոդուլը համարվում է կապող օղակ, այդ ծրագրի պայմաններում այն կապում է նախորդող _database_ _factory_ մոդուլները բերելով դրանց աշխատանքը մեկ ընդահնուր լոգիկայի։ Մոդուլը առաջարկում է ամբողջ ծրագիրի հավաքական ֆունկցիոնալը և լրացնում այն մասերը որոնք պակասում էին իր նախորրդների նեջ։

<br>

#### **ՆԵՐՄՈՒԾՎԱԾ ԳՐԱԴԱՐԱՆՆԵՐ**
> include.modules.factory, include.modules.database, from include.symbols, include.validations

<br>
<br>

#### **ԴԱՍԵՐ ԵՎ ԴՐԱՆՑ ՆԵՐԿԱՌՈՒՑՎԱԾ ՖՈՒՆԿՑԻԱՆԵՐԸ։**

<br>

**`Command` &emsp; | &emsp; ՀԱՄԱԿԱՐԳՈՂ ԴԱՍ**

Մոդուլի ամբողջ նկարարգրությունը վերաբերում է այս դասին քանի որ, այն իր վրա է վերձնում մոդուլի ամբողջ ֆունկցիոնալությունը։


_Command_.**`__create(object)` &emsp; | &emsp; ՖԱԲՐԻԿԱ**

Ֆունցիան ստանում է factory դասի օբյեկտ ըստ նրան տրված օբյեկտի տվյալների։ տարբերություն չկա այն կստանա **PowderFactory,** թե **DrinkFactory** դասի օբյեկտը։ Օգտվելով նրանից որ, այդ դասերը ունեն նույն ինտերֆեյսը այսինքն երկուսն էլ ունեն _calculation_ ֆունկցիան։ Ֆունկցիան կվերադարձնի այն։

_Command_.**`filter_(db=object)` &emsp; | &emsp; ՏՎՅԱԼՆԵՐԻ ՖԻԼՏՐԱՑԻԱ**

Այն նախ ստուգում է բարկոդի վալիդությունը, ապա ըստ բարկոդի հարցում է կատարում ՏԲ։ Եթե արդյունքը դրական է այն  __define_factory()_  ֆունկցիայի օգնությամբ որոշում է թե տվյալները ինչ ֆաբրիկայի են պատկանում, ստեղծում է այդ դասի օբյեկտը և փոխանցում է այն  ___create()_  ֆունցիային։ Հակառակ դեպքում բացասական պատասխանի դեպքում, զգուշացնում է   ___not_found_handle()_  ֆունկցիայի օգնությամբ այդ մասին և առաջարկում նորից մուտքագրել։

_Command_.**`_get_by_barcode(object, str)` &emsp; | &emsp; ՀԱՐՑՈՒՄ ՏԲ**

ֆունկցիան ընդունում է բարկոդը և ՏԲ հացում է կատարում, դիական պատասխանի դեպքում վերդարձնում է տվյալների բառարան հակառակ դեպքում None:

_Command_.**`__not_found_handle()` &emsp; | &emsp; ՍԽԱԼԻ ԱՐՏԱԲԵՐԻՉ**

Ֆունկցիայի ուղղակի տպում է _Սխալ Բարկոդ | Բարկոդը չի գտնվել_ հաղորդագրությունը։

_Command_.**`_define_factory(dict)` &emsp; | &emsp; ՖԱԲՐԻԿԱՅԻ ՈՐՈՇԻՉ**

Ֆունկցիայի ընդունում է տվյալների բառարանը որը ստացել էինք և ըստ նրա **type** բանալու, որոշում թե որ ֆաբրիկային է այն պատկանում վերադարձնելով համապատասխան ֆաբրիկայի օբյեկտը զետեղելով նրա մեջ ստացված բառարանը։

<br>
<br>

## **excel_table**

<br>

#### **Նպատակը և Առաջադրված խնդիրներ**

<br>

> Մոդուլի նպատակն է բուֆերային տվյալներից գեներացնել վերջնական excel ֆայլը։

<br>

#### **ՆԵՐՄՈՒԾՎԱԾ ԳՐԱԴԱՐԱՆՆԵՐ**
> openpyxl, datetime
> include.modules.database 


<br>
<br>

#### **ԴԱՍԵՐ ԵՎ ԴՐԱՆՑ ՆԵՐԿԱՌՈՒՑՎԱԾ ՖՈՒՆԿՑԻԱՆԵՐԸ։**

<br>


**`ExcelTable` &emsp; | &emsp; DESCRIPTION**

Դասը կնախապատրաստի excel ֆայլը, ստեղծի դրա նախնական կմախքը, և բուֆերային ֆայլից տվյալները կտեղափոխի դրա մեջ պահպանելով այն։։


_ExcelTable_.**`convert_and_save(str, values=False)` &emsp; | &emsp; DESCRIPTION**

Ֆունկցիան ակտիվ excel ֆայլում կավելացնի "Անվանում", "Զտաքաշ" սանդղակները։ Կկապվի բուֆֆերային ֆայլի հետ, կստուգի արդյո՞ք այն դատարկ չէ, եթե դատարկ է ապա տվյալներ կարդալու կամ պահպանելու կարիգ չկա։ եթե ֆայլը պարունակում է առնվազն մեկ տվյալ ապա այն կկարդա տվյալները և կմուտքագրի համապատասխանող սանդղակներում։ Վերջում կպահպանի մուտքագրված տվյալները excel ֆայլում, տալով նրան արդիական ամսաթիվը պարունակող անուն։
